import{_ as o,D as r,o as c,c as t,z as a,a as s,G as l,B as e,O as p}from"./chunks/framework.ed8d50c3.js";const i="/assets/webpack-dev-server.5e602ac9.png",D="/assets/bundle.cebe99bc.png",F="/assets/loader调用流程.e1163e66.jpg",j=JSON.parse('{"title":"前端工程化与 webpack 基础","description":"","frontmatter":{},"headers":[],"relativePath":"fe/webpack/webpack_basis.md","lastUpdated":1710747938000}'),y={name:"fe/webpack/webpack_basis.md"},d=p('<h1 id="前端工程化与-webpack-基础" tabindex="-1">前端工程化与 webpack 基础 <a class="header-anchor" href="#前端工程化与-webpack-基础" aria-label="Permalink to &quot;前端工程化与 webpack 基础&quot;">​</a></h1><h2 id="前端工程化" tabindex="-1">前端工程化 <a class="header-anchor" href="#前端工程化" aria-label="Permalink to &quot;前端工程化&quot;">​</a></h2><h3 id="实际的前端开发" tabindex="-1">实际的前端开发 <a class="header-anchor" href="#实际的前端开发" aria-label="Permalink to &quot;实际的前端开发&quot;">​</a></h3><ul><li>模块化（js 的模块化、css 的模块化、资源的模块化）</li><li>组件化（复用已有的 UI 结构、样式、行为）</li><li>规范化（目录结构的划分、编码规范化、接口规范化、文档规范化、Git 分支管理）</li><li>自动化（自动化构建、自动部署、自动化测试）</li></ul><h3 id="何为前端工程化" tabindex="-1">何为前端工程化 <a class="header-anchor" href="#何为前端工程化" aria-label="Permalink to &quot;何为前端工程化&quot;">​</a></h3>',5),b=p('<h3 id="前端工程化解决方案" tabindex="-1">前端工程化解决方案 <a class="header-anchor" href="#前端工程化解决方案" aria-label="Permalink to &quot;前端工程化解决方案&quot;">​</a></h3><p>早期解决方案：</p><ul><li><a href="https://www.gruntjs.net/" target="_blank" rel="noreferrer">grunt</a></li><li><a href="https:///www.gulpjs.com.cn/" target="_blank" rel="noreferrer">gulp</a></li></ul><p>目前主流方案：</p><ul><li><a href="https://www.webpackjs.com/" target="_blank" rel="noreferrer">webpack</a></li><li><a href="https://zh.parceljs.org/" target="_blank" rel="noreferrer">parcel</a></li></ul><h2 id="webpack-基础用法" tabindex="-1">webpack 基础用法 <a class="header-anchor" href="#webpack-基础用法" aria-label="Permalink to &quot;webpack 基础用法&quot;">​</a></h2><h3 id="webpack-是什么" tabindex="-1">webpack 是什么 <a class="header-anchor" href="#webpack-是什么" aria-label="Permalink to &quot;webpack 是什么&quot;">​</a></h3>',7),u=a("li",null,"webpack 是前端项目工程化的解决方案",-1),C=a("li",null,"它让程序员把工作重心放在具体功能实现上，提高开发效率和项目可维护性",-1),h=p(`<h3 id="安装-webpack" tabindex="-1">安装 webpack <a class="header-anchor" href="#安装-webpack" aria-label="Permalink to &quot;安装 webpack&quot;">​</a></h3><p><code>-D</code> 是 <code>--save-dev</code> 的缩写，表示开发时依赖，只在项目开发阶段用到。 <code>-S</code> 是 <code>--save</code> 的缩写，表示运行时依赖，即项目打包发布运行时要用到。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack@5.42.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack-cli@4.7.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="配置-webpack" tabindex="-1">配置 webpack <a class="header-anchor" href="#配置-webpack" aria-label="Permalink to &quot;配置 webpack&quot;">​</a></h3><ol><li>项目根目录中创建 webpack.config.js 配置文件，初始化基本配置：</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">// mode 用于指定构建模式，可选值有 development 和 production</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>在 <code>package.json</code> 文件的 <code>scripts</code> 节点下，新增 <code>dev</code> 脚本：</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> :</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 配置好后就能通过 npm run dev 命令执行打包过程</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">webpack</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>在终端中运行 <code>npm run dev</code> 命令，即可启动 webpack 进行项目的打包构建</li></ol><h4 id="mode-的可选值" tabindex="-1">mode 的可选值 <a class="header-anchor" href="#mode-的可选值" aria-label="Permalink to &quot;mode 的可选值&quot;">​</a></h4><ul><li><code>development</code><ul><li>代表开发环境</li><li>不会对打包生成的文件进行<strong>代码压缩</strong>和<strong>性能优化</strong></li><li>打包速度快，适合开发阶段使用</li></ul></li><li><code>production</code><ul><li>代表生产环境</li><li>会对打包生成的文件进行代码压缩和性能优化</li><li>打包速度慢，仅推荐在发布阶段使用</li></ul></li></ul><h4 id="webpack-config-js-文件的作用" tabindex="-1">webpack.config.js 文件的作用 <a class="header-anchor" href="#webpack-config-js-文件的作用" aria-label="Permalink to &quot;webpack.config.js 文件的作用&quot;">​</a></h4><p>webpack.config.js 是 webpack 的配置文件。webpack 在真正开始打包构建之前，会先读取这个配置文件，从而基于给定的配置，对项目进行打包。</p><h4 id="webpack-中的默认约定" tabindex="-1">webpack 中的默认约定 <a class="header-anchor" href="#webpack-中的默认约定" aria-label="Permalink to &quot;webpack 中的默认约定&quot;">​</a></h4><p>在 webpack 4.x 和 5.x 版本中，默认约定：</p><ul><li>默认打包入口文件为 <code>src/index.js</code></li><li>默认输出文件路径为 <code>dist/main.js</code></li></ul><h4 id="自定义打包入口和出口" tabindex="-1">自定义打包入口和出口 <a class="header-anchor" href="#自定义打包入口和出口" aria-label="Permalink to &quot;自定义打包入口和出口&quot;">​</a></h4><p>在 webpack.config.js 配置文件中，通过 <code>entry</code> 节点指定打包入口，<code>output</code> 节点指定打包出口。</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 输出文件的存放路径</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bundle.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 输出文件的名称</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="webpack-的插件" tabindex="-1">webpack 的插件 <a class="header-anchor" href="#webpack-的插件" aria-label="Permalink to &quot;webpack 的插件&quot;">​</a></h2><h3 id="webpack-dev-server" tabindex="-1">webpack-dev-server <a class="header-anchor" href="#webpack-dev-server" aria-label="Permalink to &quot;webpack-dev-server&quot;">​</a></h3><p>webpack-dev-server 让 webpack 能监听项目源码的变化，从而自动打包构建。</p><h4 id="安装-webpack-dev-server" tabindex="-1">安装 webpack-dev-server <a class="header-anchor" href="#安装-webpack-dev-server" aria-label="Permalink to &quot;安装 webpack-dev-server&quot;">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">webpack-dev-server@3.11.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="配置-webpack-dev-server" tabindex="-1">配置 webpack-dev-server <a class="header-anchor" href="#配置-webpack-dev-server" aria-label="Permalink to &quot;配置 webpack-dev-server&quot;">​</a></h4><ol><li>修改 <code>package.json -&gt; scripts</code> 的 <code>dev</code> 命令：</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">webpack serve</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>运行 <code>npm run dev</code> 命令，重新打包项目</li><li>浏览器访问 <code>http://localhost:8080</code> 地址，查看打包效果</li></ol><h4 id="打包生成的文件在何处" tabindex="-1">打包生成的文件在何处 <a class="header-anchor" href="#打包生成的文件在何处" aria-label="Permalink to &quot;打包生成的文件在何处&quot;">​</a></h4><ul><li>配置 webpack-dev-server 之后，打包生成的文件存放到<strong>内存</strong>中，而不再是存放到物理磁盘上</li><li>提高实时打包输出的性能</li></ul><img src="`+i+'"><h4 id="如何访问打包生成的文件" tabindex="-1">如何访问打包生成的文件 <a class="header-anchor" href="#如何访问打包生成的文件" aria-label="Permalink to &quot;如何访问打包生成的文件&quot;">​</a></h4><p>webpack-dev-server 生成的文件默认放在项目根目录中，是虚拟不可见的。</p><ul><li>在 <code>/</code> 后跟上要访问的文件名称，即可访问内存中的文件</li><li>如 <code>bundle.js</code> 表示访问 webpack-dev-server 生成到内存中的 bundle.js 文件</li></ul><img src="'+D+`"><h3 id="html-webpack-plugin" tabindex="-1">html-webpack-plugin <a class="header-anchor" href="#html-webpack-plugin" aria-label="Permalink to &quot;html-webpack-plugin&quot;">​</a></h3><p>html-webpack-plugin 是 webpack 中的 HTML 插件，可以通过此插件自定制 index.html 页面的内容。 通过 html-webpack-plugin 插件，将 src 目录下的 index.html 首页，复制到项目根目录中。</p><h4 id="安装-html-webpack-plugin" tabindex="-1">安装 html-webpack-plugin <a class="header-anchor" href="#安装-html-webpack-plugin" aria-label="Permalink to &quot;安装 html-webpack-plugin&quot;">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">html-webpack-plugin@5.3.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="配置-html-webpack-plugin" tabindex="-1">配置 html-webpack-plugin <a class="header-anchor" href="#配置-html-webpack-plugin" aria-label="Permalink to &quot;配置 html-webpack-plugin&quot;">​</a></h4><p>在 webpack.config.js 进行配置：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HtmlPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> htmlPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HtmlPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 指定原文件的路径</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 指定生成文件的路径</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">htmlPlugin</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="html-webpack-plugin-生成的文件" tabindex="-1">html-webpack-plugin 生成的文件 <a class="header-anchor" href="#html-webpack-plugin-生成的文件" aria-label="Permalink to &quot;html-webpack-plugin 生成的文件&quot;">​</a></h4><ul><li>通过 html-webpack-plugin 复制到项目根目录中的 index.html 页面，也被放到内存中</li><li>生成的 index.html 页面，自动注入打包的 bundle.js 文件</li></ul><h3 id="devserver-节点" tabindex="-1">devServer 节点 <a class="header-anchor" href="#devserver-节点" aria-label="Permalink to &quot;devServer 节点&quot;">​</a></h3><p>通过 webpack.config.js 文件的 <code>devServer</code> 节点对 webpack-dev-server 插件进行更多的配置。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">devServer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">open</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 初次打包完成后，自动打开浏览器</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">host</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">127.0.0.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 访问地址</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">port</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">80</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 访问端口号</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="webpack-的-loader-加载器" tabindex="-1">webpack 的 loader 加载器 <a class="header-anchor" href="#webpack-的-loader-加载器" aria-label="Permalink to &quot;webpack 的 loader 加载器&quot;">​</a></h2><h3 id="loader-概述" tabindex="-1">loader 概述 <a class="header-anchor" href="#loader-概述" aria-label="Permalink to &quot;loader 概述&quot;">​</a></h3><p>webpack 默认只能打包 <code>.js</code> 结尾的模块，其他模块需要调用对应的 loader 加载器才能进行打包，即<strong>协助 webpack 打包特定的文件模块</strong>。</p><ul><li><code>css-loader</code> 可打包 <code>.css</code> 文件</li><li><code>less-loader</code> 可打包 <code>.less</code> 文件</li><li><code>babel-loader</code> 可打包 webpack 无法处理的 JS 高级语法</li></ul><h3 id="loader-调用过程" tabindex="-1">loader 调用过程 <a class="header-anchor" href="#loader-调用过程" aria-label="Permalink to &quot;loader 调用过程&quot;">​</a></h3><img src="`+F+`"><h3 id="打包-css-文件" tabindex="-1">打包 css 文件 <a class="header-anchor" href="#打包-css-文件" aria-label="Permalink to &quot;打包 css 文件&quot;">​</a></h3><ol><li>运行 <code>npm i style-loader@3.0.0 css-loader@5.2.6 -D</code> 命令，安装 loader</li><li>在 webpack.config.js 文件的 <code>module-&gt;rules</code> 数组添加规则：</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">css</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>test</code> 表示匹配的文件类型，<code>use</code> 表示对应调用的 loader</li><li><code>use</code> 数组的 loader 顺序是固定的</li><li>loader 调用顺序是<strong>从后往前</strong></li></ul><h3 id="打包-less-文件" tabindex="-1">打包 less 文件 <a class="header-anchor" href="#打包-less-文件" aria-label="Permalink to &quot;打包 less 文件&quot;">​</a></h3><ol><li>运行 <code>npm i less-loader@10.0.1 less@4.1.1 -D</code> 命令</li><li>在 webpack.config.js 文件的 <code>module-&gt;rules</code> 数组添加规则：</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">less</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">style-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">less-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">	]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="打包与-url-路径相关的文件" tabindex="-1">打包与 URL 路径相关的文件 <a class="header-anchor" href="#打包与-url-路径相关的文件" aria-label="Permalink to &quot;打包与 URL 路径相关的文件&quot;">​</a></h3><ol><li>运行 <code>npm i url-loader@4.1.1 file-loader@6.2.0 -D</code> 命令</li><li>在 webpack.config.js 文件的 <code>module-&gt;rules</code> 数组添加规则：</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">jpg</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">gif</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">url-loader?limit=22229</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>limit</code> 用于指定图片大小，单位是 byte</li><li>只有 <code>&lt;= limit</code> 大小的图片才会被转为 <a href="https://www.cnblogs.com/ranyonsue/p/8615824.html" target="_blank" rel="noreferrer">base64 格式</a>的图片</li></ul><h3 id="打包-js-文件的高级语法" tabindex="-1">打包 JS 文件的高级语法 <a class="header-anchor" href="#打包-js-文件的高级语法" aria-label="Permalink to &quot;打包 JS 文件的高级语法&quot;">​</a></h3><ol><li>运行 <code>npm i babel-loader@8.2.2 @babel/core@7.14.6 @babel/plugin-proposal-decorators@7.14.5 -D</code> 安装 babel</li><li>在 webpack.config.js 文件的 <code>module-&gt;rules</code> 数组添加规则：</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> exclude</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>配置 babel：在项目根目录下，创建名为 babel.config.js 的配置文件，定义 Babel 的配置项：</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">// 声明 babel 可用的插件</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/plugin-proposal-decorators</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">legacy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">]]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="打包发布" tabindex="-1">打包发布 <a class="header-anchor" href="#打包发布" aria-label="Permalink to &quot;打包发布&quot;">​</a></h2><h3 id="为何需要打包发布" tabindex="-1">为何需要打包发布 <a class="header-anchor" href="#为何需要打包发布" aria-label="Permalink to &quot;为何需要打包发布&quot;">​</a></h3><ul><li>开发环境下，打包生成的文件存放于内存中，无法得到最终打包生成的文件</li><li>开发环境下，打包生成的文件不会进行代码压缩和性能优化</li></ul><h3 id="配置-webpack-的打包发布" tabindex="-1">配置 webpack 的打包发布 <a class="header-anchor" href="#配置-webpack-的打包发布" aria-label="Permalink to &quot;配置 webpack 的打包发布&quot;">​</a></h3><p>在 package.json 文件的 <code>scripts</code> 节点，新增 <code>build</code> 命令：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">webpack serve</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">webpack --mode production</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><code>--model</code> 指定 webpack 的运行模式，会覆盖 webpack.config.js 中的 <code>model</code> 选项</li></ul><h3 id="把-js-文件统一生成到-js-目录" tabindex="-1">把 JS 文件统一生成到 js 目录 <a class="header-anchor" href="#把-js-文件统一生成到-js-目录" aria-label="Permalink to &quot;把 JS 文件统一生成到 js 目录&quot;">​</a></h3><p>在 webpack.config.js 配置文件的 <code>output</code> 节点中，进行配置:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ouput</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">path</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 将 bundle.js 文件存放到 dist 目录的 js 子目录中</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">js/bundle.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="把图片统一生成到-image-目录" tabindex="-1">把图片统一生成到 image 目录 <a class="header-anchor" href="#把图片统一生成到-image-目录" aria-label="Permalink to &quot;把图片统一生成到 image 目录&quot;">​</a></h3><p>修改 webpack.config.js 中的 <code>url-loader</code> 配置项，新增 <code>outputPath</code> 选项指定图片文件的输出路径：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">jpg</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">gif</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">url-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">options</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">limit</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">23333</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 指明生成的图片存到 dist 目录下的 image 子目录中</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">outputPath</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="自动清理-dist-目录下的旧文件" tabindex="-1">自动清理 dist 目录下的旧文件 <a class="header-anchor" href="#自动清理-dist-目录下的旧文件" aria-label="Permalink to &quot;自动清理 dist 目录下的旧文件&quot;">​</a></h3><ol><li>安装 clean-webpack-plugin 插件</li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clean-webpack-plugin@3.0.0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>在 webpack.config.js 文件中进行配置：</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> CleanWebpackPlugin </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">clean-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// plugins 节点挂载 CleanWebpackPlugin 实例对象</span></span>
<span class="line"><span style="color:#FFCB6B;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [htmlPlugin</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CleanWebpackPlugin</span><span style="color:#A6ACCD;">()]</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="企业级项目打包发布" tabindex="-1">企业级项目打包发布 <a class="header-anchor" href="#企业级项目打包发布" aria-label="Permalink to &quot;企业级项目打包发布&quot;">​</a></h3><p>企业级项目打包发布的流程更复杂：</p><ul><li>生成打包报告，根据报告分析具体的优化方案</li><li>Tree-Shaking</li><li>为第三方库启用 CDN 加载</li><li>配置组件的按需加载</li><li>开启路由懒加载</li><li>自定制首页内容</li></ul><h3 id="打包后双击-index-html-查看效果" tabindex="-1">打包后双击 index.html 查看效果 <a class="header-anchor" href="#打包后双击-index-html-查看效果" aria-label="Permalink to &quot;打包后双击 index.html 查看效果&quot;">​</a></h3><p>项目 <code>npm run build</code> 打包之后，默认情况下在本地双击 <code>dist/index.html</code> 是无法看到项目效果的，如果想要看到效果需要进行配置。 <code>vue.config.js</code>文件将 <code>publicPath</code> 改为 <code>&#39;./&#39;</code> 即可，默认为 <code>&#39;/&#39;</code> 。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">publicPath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="source-map" tabindex="-1">Source Map <a class="header-anchor" href="#source-map" aria-label="Permalink to &quot;Source Map&quot;">​</a></h2><h3 id="source-map-为何物" tabindex="-1">Source Map 为何物 <a class="header-anchor" href="#source-map-为何物" aria-label="Permalink to &quot;Source Map 为何物&quot;">​</a></h3><p>Source Map 就是一个信息文件，里面储存着位置信息，它存储着压缩混淆后的代码，所对应的转换前的位置。当我们运行打包生成的代码出错时，就能通过报错信息定位到<strong>源码的出错位置</strong>。</p><h3 id="source-map-最佳实践" tabindex="-1">Source Map 最佳实践 <a class="header-anchor" href="#source-map-最佳实践" aria-label="Permalink to &quot;Source Map 最佳实践&quot;">​</a></h3><p>开发环境下：</p><ul><li><code>devtool</code> 设置为 <code>eval-source-map</code></li><li>显示源码报错的行数</li><li>可以精准定位到具体的错误行</li></ul><p>生产环境下：</p><ul><li>关闭 Source Map 或把 <code>devtool</code> 设置为 <code>nosources-source-map</code></li><li>只会显示源码中报错的行数，不会暴露源码</li><li>防止源码泄露，提高网站安全性</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// webpack.config.js 文件</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eval-source-map</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,102);function m(A,k,g,v,w,f){const n=r("font");return c(),t("div",null,[d,a("p",null,[s("前端工程化即，在企业级的前端项目开发中，把前端开发所需的工具、技术、流程、经验等进行规范化、标准化。这样有利于前端开发自成体系，有一套"),l(n,{color:"red"},{default:e(()=>[s("标准的开发方案和流程")]),_:1}),s("。")]),b,a("ul",null,[u,a("li",null,[s("它提供了"),l(n,{color:"red"},{default:e(()=>[s("前端模块化开发")]),_:1}),s("支持，以及"),l(n,{color:"red"},{default:e(()=>[s("代码压缩混淆、处理浏览器端 JavaScript 的兼容性、性能优化")]),_:1}),s("等功能")]),C]),h])}const E=o(y,[["render",m]]);export{j as __pageData,E as default};
